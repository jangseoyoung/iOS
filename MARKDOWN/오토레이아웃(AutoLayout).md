## AutoLayout (오토레이아웃)

### 개념

- 뷰의 제약 사항을 바탕으로 뷰 체계 내의 모든 뷰의 크기&위치를 동적으로 계산
- 애플리케이션을 사용할 때 발생하는 외부 변경과 내부 변경에 동적으로 반응하는 사용자 인터페이스를 가능하게 함.

#### 외부 변경 (External Changes)

- 슈퍼뷰의 크기나 모양이 변경될 때 발생.

  - 각각의 변화, 사용 가능한 공간을 가장 잘 사용할 수 있도록 하기 위해 뷰 체계의 레이아웃을 업데이트해야 함.

  > 외부 변경이 발생하는 경우
  >
  > - 사용자가 아이패드의 Split View를 사용하거나 사용하지 않는 경우
  > - 장치를 회전하는 경우
  > - 활성화 콜(active call)과 오디오 녹음 바가 보여지거나 사라지는 경우
  > - 다른 크기의 클래스를 지원하기를 원하는 경우
  > - 다른 크기의 스크린을 지원하기 원하는 경우

- 위의 변경사항 대부분은 실행 시간에 발생할 수 있음 & 애플리케이션으로부터 동적인 응답을 요구함.

#### 내부 변경 (Internal Changes)

- 사용자 인터페이스 뷰의 크기 또는 설정이 변경되었을 때 발생

> 내부 변경이 발생하는 경우
>
> - 애플리케이션 변경에 의해 콘텐츠가 보여지는 경우
> - 애플리케이션이 국제화를 지원하는 경우
> - 애플리케이션이 동적 타입을 지원하는 경우

- 애플리케이션 콘텐츠가 변경되면 새로운 콘텐츠는 예전과 다른 레이아웃이 필요할 수 있음.

### 오토레이아웃이 필요한 이유

- 오토레이아웃은 인터페이스의 절대적인 좌표가 아닌 동적으로 상대적인 좌표가 필요할 경우 유용하게 쓰임.

> - 실행되는 iOS기기의 스크린 화면의 크기가 다양한 경우
> - 실행되는 iOS기기의 스크린이 회전할 수 있는 경우
> - 상태표시줄(Status Bar) 액티브 콜(active call)과 오디오 바가 보이거나 사라지는 경우
> - 콘텐츠가 동적으로 보여지는 경우
> - 애플리케이션이 지역화를 지원하는 경우(Localization)
> - 애플리케이션이 동적 타입을 지원하는 경우

### 오토레이아웃 구성

- 안전 영역(Safe Area)
  - 콘텐츠가 상태바, 내비게이션바, 툴바, 탭바를 가리는 것을 방지하는 영역
  - 표준 시스템이 제공하는 뷰들은 자동으로 안전 영역 레이아웃 가이드를 준수하게 되어 있음.
  - 안전 영역은 iOS 11부터 사용가능함.
- 제약(Constraint)
  - 뷰 스스로 또는 뷰 사이의 관계를 속성을 통하여 정의
  - 제약은 방정식으로 나타낼 수 있음.
- 고유 콘텐츠 크기(Intrinsic Content Size)
  - 뷰가 갖는 원래의 크기
  - ex) 레이블의 고유 콘텐츠 크기는 레이블의 텍스트의 크기, 이미지의 고유 콘텐츠 크기는 이미지 자체의 크기
- 제약 우선도(Xonstraint Priorities)
  - 오토레이아웃은 뷰의 고유 콘텐츠 크기를 각 크기에 대한 한 쌍의 제약을 사용해 나타냄.
  - 우선도가 높을수록 우선적으로 적용
  - 같은 속성 & 다른 제약과 결합할 시 : 우선도 낮은 제약은 무시됨.
- 레이아웃 마진
  - 뷰에 콘텐츠 내용을 레이아웃할 때 쓰는 기본간격(default spacing)
- 앵커(Anchor)
  - 오토레이아웃을 코딩으로 구현하여 제약을 만들기 위해 앵커를 사용할 수 있음.

